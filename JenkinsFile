node {

    stage('Git Pull') { // for display purposes

        git branch: 'main', credentialsId: 'mshaya200', url: 'https://github.com/mshaya200/DevOpsAssignment'
        echo "Pull Successful"
        sh "pwd"
    }
    stage('Compile') {
        // Run the maven build
        sh "javac CurrencyConverter.java"
        echo "Compile successful"
        
    }
  stage('SonarQube Analysis') {
    def scannerHome = tool 'SonarScanner';
    withSonarQubeEnv() {
      sh "${scannerHome}/bin/sonar-scanner"
    }
  }
    
    stage('Results') {
       sh "java CurrencyConverter 50 dollars"  
        

    }
}
